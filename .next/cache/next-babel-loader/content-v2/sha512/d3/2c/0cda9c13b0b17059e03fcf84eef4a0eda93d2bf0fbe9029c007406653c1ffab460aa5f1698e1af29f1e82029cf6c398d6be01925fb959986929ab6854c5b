{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"E:/projects/4.23/awake-nextjs-refactored1/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/projects/4.23/awake-nextjs-refactored1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"E:\\\\projects\\\\4.23\\\\awake-nextjs-refactored1\\\\src\\\\pages\\\\phone.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport PhoneInput from 'react-phone-input-2';\nimport { useAuth } from 'context/auth';\nimport { useUserInfo } from 'context/user-info';\nimport { Button, Card, Container, Text12 } from 'components/common';\nimport { Layout } from 'components/layout';\nimport 'react-phone-input-2/lib/style.css';\n\nvar Phone = function Phone() {\n  _s();\n\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      signInWithSMS = _useAuth.signInWithSMS;\n\n  var _useUserInfo = useUserInfo(),\n      userName = _useUserInfo.userName,\n      phoneNumber = _useUserInfo.phoneNumber,\n      setPhoneNumber = _useUserInfo.setPhoneNumber,\n      setVerificationCode = _useUserInfo.setVerificationCode;\n\n  useEffect(function () {\n    if (userName == '' && typeof router.query.from === 'undefined') router.push('/signup');\n  }, []);\n\n  var handleClickContinue = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              signInWithSMS({\n                phoneNumber: phoneNumber\n              }).then(function (_ref2) {\n                var data = _ref2.data;\n                setVerificationCode(data.verificationCode);\n                router.push('/verification');\n              })[\"catch\"](function (err) {\n                alert(err.message);\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleClickContinue() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleChangePhoneNumber = function handleChangePhoneNumber(phone) {\n    setPhoneNumber(phone);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title\",\n            children: \"Phone number!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtitle\",\n            children: \"Please enter your phone number so you can get verification code.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(PhoneInput, {\n            country: 'us',\n            value: phoneNumber,\n            onChange: handleChangePhoneNumber,\n            containerStyle: {\n              width: 'fit-content',\n              margin: '26px 0'\n            },\n            inputStyle: {\n              height: '48px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Button, {\n            title: \"Continue\",\n            onClick: handleClickContinue,\n            disabled: !phoneNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom-container\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Can't login? \\u2022\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"orange-text\",\n              onClick: function onClick() {\n                return router.push('/signup');\n              },\n              children: \"Sign up for new user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Text12, {\n        text: 'Privacy policy - Terms of use'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Phone, \"tlcWDqVrkUMMKC7YJeSC9XE4xcY=\", false, function () {\n  return [useRouter, useAuth, useUserInfo];\n});\n\n_c = Phone;\nexport default Phone;\n\nvar _c;\n\n$RefreshReg$(_c, \"Phone\");","map":{"version":3,"sources":["E:/projects/4.23/awake-nextjs-refactored1/src/pages/phone.tsx"],"names":["React","useEffect","useRouter","PhoneInput","useAuth","useUserInfo","Button","Card","Container","Text12","Layout","Phone","router","signInWithSMS","userName","phoneNumber","setPhoneNumber","setVerificationCode","query","from","push","handleClickContinue","then","data","verificationCode","err","alert","message","handleChangePhoneNumber","phone","width","margin","height"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { NextPage } from 'next/types'\nimport { useRouter } from 'next/router'\nimport PhoneInput from 'react-phone-input-2'\n\nimport { useAuth } from 'context/auth'\nimport { useUserInfo } from 'context/user-info'\nimport { Button, Card, Container, Text12 } from 'components/common'\nimport { Layout } from 'components/layout'\n\nimport 'react-phone-input-2/lib/style.css'\n\nconst Phone: NextPage = () => {\n  const router = useRouter()\n  const { signInWithSMS } = useAuth()\n  const {\n    userName,\n    phoneNumber,\n    setPhoneNumber,\n    setVerificationCode,\n  } = useUserInfo()\n\n  useEffect(() => {\n    if (userName == '' && typeof router.query.from === 'undefined')\n      router.push('/signup')\n  }, [])\n\n  const handleClickContinue = async () => {\n    signInWithSMS({\n      phoneNumber: phoneNumber,\n    })\n      .then(({ data }) => {\n        setVerificationCode(data.verificationCode)\n        router.push('/verification')\n      })\n      .catch((err) => {\n        alert(err.message)\n      })\n  }\n\n  const handleChangePhoneNumber = (phone) => {\n    setPhoneNumber(phone)\n  }\n\n  return (\n    <Layout>\n      <Container maxWidth=\"sm\">\n        <Card>\n          <div className=\"form-container\">\n            <p className=\"title\">Phone number!</p>\n            <p className=\"subtitle\">\n              Please enter your phone number so you can get verification code.\n            </p>\n            <PhoneInput\n              country={'us'}\n              value={phoneNumber}\n              onChange={handleChangePhoneNumber}\n              containerStyle={{\n                width: 'fit-content',\n                margin: '26px 0',\n              }}\n              inputStyle={{ height: '48px' }}\n            />\n            <Button\n              title=\"Continue\"\n              onClick={handleClickContinue}\n              disabled={!phoneNumber}\n            />\n          </div>\n          <div className=\"bottom-container\">\n            <p>\n              Can't login? •{' '}\n              <span\n                className=\"orange-text\"\n                onClick={() => router.push('/signup')}\n              >\n                Sign up for new user\n              </span>\n            </p>\n          </div>\n        </Card>\n        <Text12 text={'Privacy policy - Terms of use'} />\n      </Container>\n    </Layout>\n  )\n}\n\nexport default Phone\n"]},"metadata":{},"sourceType":"module"}